services:
  user-management-service:
    build:
      context: .
      dockerfile: services/user_management/dockerfile
    image: saferoute/user-management:latest
    container_name: saferoute-user-management
    platform: linux/amd64
    ports:
      - "20000:80"
    environment:
      - PYTHONUNBUFFERED=1
      - PORT=80
    restart: unless-stopped

  notification-service:
    build:
      context: .
      dockerfile: services/notification/dockerfile
    image: saferoute/notification:latest
    container_name: saferoute-notification
    platform: linux/amd64
    ports:
      - "20001:80"
    environment:
      - PYTHONUNBUFFERED=1
      - PORT=80
    restart: unless-stopped

  routing-service:
    build:
      context: .
      dockerfile: services/routing_service/dockerfile
    image: saferoute/routing-service:latest
    container_name: saferoute-routing-service
    platform: linux/amd64
    ports:
      - "20002:80"
    environment:
      - PYTHONUNBUFFERED=1
      - PORT=80
    restart: unless-stopped

  safety-scoring-service:
    build:
      context: .
      dockerfile: services/safety_scoring/dockerfile
    image: saferoute/safety-scoring:latest
    container_name: saferoute-safety-scoring
    platform: linux/amd64
    ports:
      - "20003:80"
    environment:
      - PYTHONUNBUFFERED=1
      - PORT=80
    restart: unless-stopped

  feedback-service:
    build:
      context: .
      dockerfile: services/feedback/dockerfile
    image: saferoute/feedback:latest
    container_name: saferoute-feedback
    platform: linux/amd64
    ports:
      - "20004:80"
    environment:
      - PYTHONUNBUFFERED=1
      - PORT=80
    restart: unless-stopped

  sos-service:
    build:
      context: .
      dockerfile: services/sos/dockerfile
    image: saferoute/sos:latest
    container_name: saferoute-sos
    platform: linux/amd64
    ports:
      - "20006:80"
    environment:
      - PYTHONUNBUFFERED=1
      - PORT=80
    restart: unless-stopped
